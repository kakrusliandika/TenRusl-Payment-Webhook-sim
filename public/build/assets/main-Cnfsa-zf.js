function l(){const e=document.querySelector(".app-header");if(!e)return;const t=e.querySelector("#primary-nav"),n=e.querySelector(".nav-toggle");if(t&&n){const i=()=>{t.classList.add("open"),n.setAttribute("aria-expanded","true")},c=()=>{t.classList.remove("open"),n.setAttribute("aria-expanded","false")},r=()=>{t.classList.contains("open")?c():i()};n.addEventListener("click",o=>{o.stopPropagation(),r()}),document.addEventListener("click",o=>{e.contains(o.target)||c()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&c()})}const a=e.querySelector("#lang-menu-button"),s=e.querySelector("#lang-menu");if(a&&s){const i=()=>{s.hidden=!1,a.setAttribute("aria-expanded","true")},c=()=>{s.hidden=!0,a.setAttribute("aria-expanded","false")},r=()=>{s.hidden?i():c()};a.addEventListener("click",o=>{o.stopPropagation(),r()}),document.addEventListener("click",o=>{e.contains(o.target)||c()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&c()})}}function u(){l()}function d(e,t){try{window.dispatchEvent(new CustomEvent("track",{detail:{name:"footer_link_click",type:t,href:e.href,label:e.textContent?.trim()||e.getAttribute("aria-label")||null}}))}catch{}}function f(){document.querySelectorAll(".footer-links a").forEach(n=>{n.addEventListener("click",()=>d(n,"text"))}),document.querySelectorAll(".footer-social a").forEach(n=>{n.addEventListener("click",()=>d(n,"social"))})}function g(){const e=document.getElementById("main-content");e&&(location.hash==="#main-content"&&e.focus({preventScroll:!0}),window.addEventListener("hashchange",()=>{location.hash==="#main-content"&&e.focus({preventScroll:!0})}))}function p(){g()}function m(){const e=document.getElementById("lang-menu-button"),t=document.getElementById("lang-menu");if(!e||!t)return;const n=()=>{e.setAttribute("aria-expanded","true"),t.hidden=!1},a=()=>{e.setAttribute("aria-expanded","false"),t.hidden=!0},s=()=>{e.getAttribute("aria-expanded")==="true"?a():n()};e.addEventListener("click",i=>{i.stopPropagation(),s()}),document.addEventListener("click",i=>{!t.contains(i.target)&&!e.contains(i.target)&&a()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&(a(),e.focus())})}function v(){m()}function L(){u(),p(),v(),f()}export{L as a,u as i};
